{"ast":null,"code":"var _jsxFileName = \"/home/caionnc/Documents/code/tcc-branches/v1.0.2/tcc/src/pages/SignalCapture/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { File } from '@ionic-native/file';\nimport { VideoCapturePlus } from '@ionic-native/video-capture-plus';\nimport { VideoEditor } from '@ionic-native/video-editor';\nimport { IonItem, IonHeader, IonToolbar, IonButtons, IonTitle, IonPage, IonContent, IonAlert } from '@ionic/react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\nimport { logoCaptureV2, logoTranslateVideo, logoTrashBtn, logoCaptureDisable, IconArrowLeft } from 'assets';\nimport { Creators } from 'store/ducks/video';\nimport { Capacitor } from '@capacitor/core';\nimport { ErrorModal, LoadingModal } from '../../components';\nimport paths from '../../constants/paths';\nimport { Strings } from './strings';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SignalCapture = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const currentVideoArray = useSelector(({\n    video\n  }) => video.current);\n  const [showErrorModal, setShowErrorModal] = useState([false, '']);\n  const [loading, setLoading] = useState(false);\n  const [loadingDescription, setLoadingDescription] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [showAlertpage, setShowAlertPage] = useState(false);\n  const [toDelete, setToDelete] = useState(-1);\n  const history = useHistory();\n\n  const takeVideoMock = async () => {\n    // mock\n    if (currentVideoArray.length < 5) {\n      dispatch(Creators.setCurrentArrayVideo([...currentVideoArray, [{\n        name: 'opa',\n        size: '123'\n      }, new Blob([]), {\n        thumbBlob: 'https://w7.pngwing.com/pngs/708/19/png-transparent-star-star-angle-triangle-symmetry-thumbnail.png'\n      }, {\n        duration: Math.trunc(5.4)\n      }]]));\n    }\n  };\n\n  const takeVideo = async () => {\n    if (currentVideoArray.length < 5) {\n      try {\n        const options = {\n          limit: 1,\n          duration: 30,\n          highquality: true\n        }; // BackgroundMode.enable();\n\n        const mediafile = await VideoCapturePlus.captureVideo(options); // BackgroundMode.disable();\n\n        setLoadingDescription('Processando...');\n        setLoading(true);\n        const media = mediafile[0];\n        const path = media.fullPath.substring(0, media.fullPath.lastIndexOf('/'));\n        let resolvedPath;\n\n        if (Capacitor.getPlatform() === 'ios') {\n          resolvedPath = await File.resolveDirectoryUrl('file://' + path);\n        } else {\n          resolvedPath = await File.resolveDirectoryUrl(path);\n        }\n\n        File.readAsArrayBuffer(resolvedPath.nativeURL, media.name).then(buffer => {\n          const imgBlob = new Blob([buffer], {\n            type: media.type\n          });\n          const fname = `thumb-${currentVideoArray.length}`;\n          const thumbnailoption = {\n            fileUri: resolvedPath.nativeURL + media.name,\n            quality: 100,\n            atTime: 1,\n            outputFileName: fname\n          };\n          VideoEditor.createThumbnail(thumbnailoption).then(async thumbnailPath => {\n            const pathThumbs = thumbnailPath.substring(0, thumbnailPath.lastIndexOf('/'));\n            const resolvedPathThumb = await File.resolveDirectoryUrl(`file://${pathThumbs}`);\n            File.readAsDataURL(resolvedPathThumb.nativeURL, `${fname}.jpg`).then(thumbPath => {\n              VideoEditor.getVideoInfo({\n                fileUri: resolvedPath.nativeURL + media.name\n              }).then(info => {\n                setLoading(false);\n                dispatch(Creators.setCurrentArrayVideo([...currentVideoArray, [...mediafile, imgBlob, {\n                  thumbBlob: thumbPath\n                }, {\n                  duration: Math.trunc(info.duration)\n                }]]));\n                history.push(paths.SIGNALCAPTURE);\n              }, err => {\n                setLoading(false);\n                setShowErrorModal([true, 'Não foi possível obter informações do vídeo']);\n              });\n            }, error => {\n              setLoading(false);\n              setShowErrorModal([true, 'Não foi possível carregar a prévia do vídeo']);\n            });\n          }).catch(err => {\n            setLoading(false);\n            setShowErrorModal([true, 'Não foi possível criar a prévia do vídeo']);\n          });\n        }, error => {\n          setLoading(false);\n          setShowErrorModal([true, 'Erro ao ler arquivo de vídeo']);\n        });\n      } catch (error) {\n        setLoading(false);\n        if (error.code != 3) setShowErrorModal([true, 'Erro ao abrir câmera']);\n      }\n    }\n  };\n\n  function popupCancel() {\n    setShowAlertPage(true);\n  }\n\n  const popupRemove = index => {\n    setShowAlert(true);\n    setToDelete(index);\n  };\n\n  const removeRecord = index => {\n    const filteredArray = currentVideoArray.filter((value, i) => i !== index);\n    dispatch(Creators.setCurrentArrayVideo(filteredArray));\n  };\n\n  const renderRecordedItens = () => {\n    const fillNTimes = 5 - currentVideoArray.length;\n    const copyCurrentVideo = [...currentVideoArray];\n\n    for (let index = 0; index < fillNTimes; index += 1) {\n      copyCurrentVideo.push([]);\n    }\n\n    return copyCurrentVideo.map((item, key) => {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: item.length !== 0 ? /*#__PURE__*/_jsxDEV(IonItem, {\n          className: \"item-recorder\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"video-thumb\",\n            src: item[2].thumbBlob,\n            alt: \"Video Thumb\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-metadata\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"name\",\n              children: [\" Sinal \", key + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"size\",\n              children: [\" \", item[3].duration, \" seg \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"video-icon-delete\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => popupRemove(key),\n              type: \"button\",\n              className: \"signal-capture-button-none\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: logoTrashBtn,\n                alt: \"Logo lixeira\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this)]\n        }, uuidv4(), true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"item-recorder shadowing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this)\n      }, void 0, false);\n    });\n  };\n\n  const translateVideo = async () => {\n    history.push(paths.RECORDERAREA);\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      className: \"ion-no-border\",\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonTitle, {\n          className: \"menu-toolbar-title-signalcap\",\n          children: Strings.TITLE_MENU\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonButtons, {\n          slot: \"start\",\n          onClick: popupCancel,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"arrow-left-container-start\",\n            children: /*#__PURE__*/_jsxDEV(IconArrowLeft, {\n              color: \"#969696\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"list-captures\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"progress-recorder\",\n          children: [\" \", currentVideoArray.length, \" de 5 \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"list-recorded-itens\",\n          children: renderRecordedItens()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"new-recorder-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"area-button-recorder\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"tooltiptext\",\n              children: \"Grave novos sinais\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: takeVideo,\n            type: \"button\",\n            className: \"signal-capture-button-none\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"button-recorder\",\n              src: currentVideoArray.length < 5 ? logoCaptureV2 : logoCaptureDisable,\n              alt: \"Logo Gravar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" C\\xE2mera \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"area-button-recorder\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: translateVideo,\n            type: \"button\",\n            className: \"signal-capture-button-none\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"button-recorder\",\n              src: logoTranslateVideo,\n              alt: \"Logo gravar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Traduzir \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ErrorModal, {\n        show: showErrorModal[0],\n        setShow: setShowErrorModal,\n        errorMsg: showErrorModal[1]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LoadingModal, {\n        loading: loading,\n        setLoading: setLoading,\n        text: loadingDescription\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n        isOpen: showAlert,\n        cssClass: \"popup-box-signal-cap\",\n        header: Strings.TITLE_POPUPCANCEL,\n        message: Strings.MESSAGE_POPUPCANCEL,\n        buttons: [{\n          text: Strings.BUTTON_NAME_YES,\n          cssClass: 'popup-yes',\n          handler: () => {\n            removeRecord(toDelete);\n            console.log('Confirm Yes');\n            setShowAlert(false);\n          }\n        }, {\n          text: Strings.BUTTON_NAME_NO,\n          cssClass: 'popup-no',\n          role: 'cancel',\n          handler: () => {\n            setShowAlert(false);\n            console.log('Confirm No');\n          }\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonAlert, {\n        isOpen: showAlertpage,\n        cssClass: \"popup-box-signal-cap\",\n        header: Strings.TITLE_POPUP_REMOVE,\n        message: Strings.MESSAGE_POPUP_REMOVE,\n        buttons: [{\n          text: Strings.BUTTON_NAME_YES,\n          cssClass: 'popup-yes',\n          handler: () => {\n            console.log('Confirm Yes');\n            dispatch(Creators.setCurrentArrayVideo([]));\n            setShowAlertPage(false);\n            history.goBack();\n          }\n        }, {\n          text: Strings.BUTTON_NAME_NO,\n          cssClass: 'popup-no',\n          role: 'cancel',\n          handler: () => {\n            console.log('Confirm No');\n            setShowAlertPage(false);\n          }\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignalCapture, \"fuCR+k7GcacPFBZaoRPHWzoZRNQ=\", false, function () {\n  return [useDispatch, useSelector, useHistory];\n});\n\n_c = SignalCapture;\nexport default SignalCapture;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignalCapture\");","map":{"version":3,"sources":["/home/caionnc/Documents/code/tcc-branches/v1.0.2/tcc/src/pages/SignalCapture/index.tsx"],"names":["React","useState","File","VideoCapturePlus","VideoEditor","IonItem","IonHeader","IonToolbar","IonButtons","IonTitle","IonPage","IonContent","IonAlert","useSelector","useDispatch","useHistory","v4","uuidv4","logoCaptureV2","logoTranslateVideo","logoTrashBtn","logoCaptureDisable","IconArrowLeft","Creators","Capacitor","ErrorModal","LoadingModal","paths","Strings","SignalCapture","dispatch","currentVideoArray","video","current","showErrorModal","setShowErrorModal","loading","setLoading","loadingDescription","setLoadingDescription","showAlert","setShowAlert","showAlertpage","setShowAlertPage","toDelete","setToDelete","history","takeVideoMock","length","setCurrentArrayVideo","name","size","Blob","thumbBlob","duration","Math","trunc","takeVideo","options","limit","highquality","mediafile","captureVideo","media","path","fullPath","substring","lastIndexOf","resolvedPath","getPlatform","resolveDirectoryUrl","readAsArrayBuffer","nativeURL","then","buffer","imgBlob","type","fname","thumbnailoption","fileUri","quality","atTime","outputFileName","createThumbnail","thumbnailPath","pathThumbs","resolvedPathThumb","readAsDataURL","thumbPath","getVideoInfo","info","push","SIGNALCAPTURE","err","error","catch","code","popupCancel","popupRemove","index","removeRecord","filteredArray","filter","value","i","renderRecordedItens","fillNTimes","copyCurrentVideo","map","item","key","translateVideo","RECORDERAREA","TITLE_MENU","TITLE_POPUPCANCEL","MESSAGE_POPUPCANCEL","text","BUTTON_NAME_YES","cssClass","handler","console","log","BUTTON_NAME_NO","role","TITLE_POPUP_REMOVE","MESSAGE_POPUP_REMOVE","goBack"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { BackgroundMode } from '@ionic-native/background-mode';\n\nimport { File, DirectoryEntry } from '@ionic-native/file';\n\nimport {\n  VideoCapturePlus,\n  VideoCapturePlusOptions,\n  MediaFile,\n} from '@ionic-native/video-capture-plus';\nimport {\n  CreateThumbnailOptions,\n  VideoEditor,\n} from '@ionic-native/video-editor';\nimport {\n  IonItem,\n  IonHeader,\n  IonToolbar,\n  IonButtons,\n  IonTitle,\n  IonPage,\n  IonContent,\n  IonAlert,\n} from '@ionic/react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { v4 as uuidv4 } from 'uuid';\n\nimport {\n  logoCaptureV2,\n  logoTranslateVideo,\n  logoTrashBtn,\n  logoCaptureDisable,\n  IconArrowLeft,\n} from 'assets';\nimport { RootState } from 'store';\nimport { Creators } from 'store/ducks/video';\nimport { Capacitor } from '@capacitor/core';\n\nimport { ErrorModal, LoadingModal } from '../../components';\nimport paths from '../../constants/paths';\nimport { Strings } from './strings';\n\nimport './styles.css';\n\nconst SignalCapture = () => {\n  const dispatch = useDispatch();\n  const currentVideoArray = useSelector(\n    ({ video }: RootState) => video.current,\n  );\n  const [showErrorModal, setShowErrorModal] = useState<[boolean, string]>([\n    false,\n    '',\n  ]);\n\n  const [loading, setLoading] = useState(false);\n  const [loadingDescription, setLoadingDescription] = useState('');\n  const [showAlert, setShowAlert] = useState(false);\n  const [showAlertpage, setShowAlertPage] = useState(false);\n\n  const [toDelete, setToDelete] = useState<number>(-1);\n\n  const history = useHistory();\n\n  const takeVideoMock = async () => {\n    // mock\n    if (currentVideoArray.length < 5) {\n      dispatch(\n        Creators.setCurrentArrayVideo([\n          ...currentVideoArray,\n          [\n            { name: 'opa', size: '123' },\n            new Blob([]),\n            {\n              thumbBlob:\n                'https://w7.pngwing.com/pngs/708/19/png-transparent-star-star-angle-triangle-symmetry-thumbnail.png',\n            },\n            { duration: Math.trunc(5.4) },\n          ],\n        ]),\n      );\n    }\n  };\n\n  const takeVideo = async () => {\n    if (currentVideoArray.length < 5) {\n      try {\n        const options = { limit: 1, duration: 30, highquality: true };\n        // BackgroundMode.enable();\n        const mediafile = await VideoCapturePlus.captureVideo(options);\n        // BackgroundMode.disable();\n\n        setLoadingDescription('Processando...');\n        setLoading(true);\n\n        const media = mediafile[0] as MediaFile;\n        const path = media.fullPath.substring(\n          0,\n          media.fullPath.lastIndexOf('/'),\n        );\n        let resolvedPath: DirectoryEntry;\n\n        if (Capacitor.getPlatform() === 'ios') {\n          resolvedPath = await File.resolveDirectoryUrl('file://' + path);\n        } else {\n          resolvedPath = await File.resolveDirectoryUrl(path);\n        }\n\n        File.readAsArrayBuffer(resolvedPath.nativeURL, media.name).then(\n          (buffer: ArrayBuffer) => {\n            const imgBlob = new Blob([buffer], {\n              type: media.type,\n            });\n\n            const fname = `thumb-${currentVideoArray.length}`;\n\n            const thumbnailoption: CreateThumbnailOptions = {\n              fileUri: resolvedPath.nativeURL + media.name,\n              quality: 100,\n              atTime: 1,\n              outputFileName: fname,\n            };\n\n            VideoEditor.createThumbnail(thumbnailoption)\n              .then(async (thumbnailPath: string) => {\n                const pathThumbs = thumbnailPath.substring(\n                  0,\n                  thumbnailPath.lastIndexOf('/'),\n                );\n                const resolvedPathThumb: DirectoryEntry =\n                  await File.resolveDirectoryUrl(`file://${pathThumbs}`);\n\n                File.readAsDataURL(\n                  resolvedPathThumb.nativeURL,\n                  `${fname}.jpg`,\n                ).then(\n                  (thumbPath: string) => {\n                    VideoEditor.getVideoInfo({\n                      fileUri: resolvedPath.nativeURL + media.name,\n                    }).then(\n                      info => {\n                        setLoading(false);\n                        dispatch(\n                          Creators.setCurrentArrayVideo([\n                            ...currentVideoArray,\n                            [\n                              ...mediafile,\n                              imgBlob,\n                              { thumbBlob: thumbPath },\n                              { duration: Math.trunc(info.duration) },\n                            ],\n                          ]),\n                        );\n                        history.push(paths.SIGNALCAPTURE);\n                      },\n                      err => {\n                        setLoading(false);\n                        setShowErrorModal([\n                          true,\n                          'Não foi possível obter informações do vídeo',\n                        ]);\n                      },\n                    );\n                  },\n                  error => {\n                    setLoading(false);\n                    setShowErrorModal([\n                      true,\n                      'Não foi possível carregar a prévia do vídeo',\n                    ]);\n                  },\n                );\n              })\n              .catch((err: Error) => {\n                setLoading(false);\n                setShowErrorModal([\n                  true,\n                  'Não foi possível criar a prévia do vídeo',\n                ]);\n              });\n          },\n          (error: Error) => {\n            setLoading(false);\n            setShowErrorModal([true, 'Erro ao ler arquivo de vídeo']);\n          },\n        );\n      } catch (error: any) {\n        setLoading(false);\n        if (error.code != 3) setShowErrorModal([true, 'Erro ao abrir câmera']);\n      }\n    }\n  };\n  function popupCancel() {\n    setShowAlertPage(true);\n  }\n  const popupRemove = (index: number) => {\n    setShowAlert(true);\n    setToDelete(index);\n  };\n\n  const removeRecord = (index: number) => {\n    const filteredArray = currentVideoArray.filter(\n      (value: unknown, i: number) => i !== index,\n    );\n    dispatch(Creators.setCurrentArrayVideo(filteredArray));\n  };\n\n  const renderRecordedItens = () => {\n    const fillNTimes = 5 - currentVideoArray.length;\n    const copyCurrentVideo = [...currentVideoArray];\n\n    for (let index = 0; index < fillNTimes; index += 1) {\n      copyCurrentVideo.push([]);\n    }\n\n    type ArrayVideo = {\n      thumbBlob: string;\n      duration: number;\n    };\n\n    return copyCurrentVideo.map((item: ArrayVideo[], key: number) => {\n      return (\n        <>\n          {item.length !== 0 ? (\n            <IonItem className=\"item-recorder\" key={uuidv4()}>\n              <img\n                className=\"video-thumb\"\n                src={item[2].thumbBlob}\n                alt=\"Video Thumb\"\n              />\n\n              <div className=\"video-metadata\">\n                <p className=\"name\"> Sinal {key + 1}</p>\n                <p className=\"size\"> {item[3].duration} seg </p>\n              </div>\n\n              <div className=\"video-icon-delete\">\n                <button\n                  onClick={() => popupRemove(key)}\n                  type=\"button\"\n                  className=\"signal-capture-button-none\"\n                >\n                  <img src={logoTrashBtn} alt=\"Logo lixeira\" />\n                </button>\n              </div>\n            </IonItem>\n          ) : (\n            <div className=\"item-recorder shadowing\" />\n          )}\n        </>\n      );\n    });\n  };\n\n  const translateVideo = async () => {\n    history.push(paths.RECORDERAREA);\n  };\n\n  return (\n    <IonPage>\n      <IonHeader className=\"ion-no-border\">\n        <IonToolbar>\n          <IonTitle className=\"menu-toolbar-title-signalcap\">\n            {Strings.TITLE_MENU}\n          </IonTitle>\n          <IonButtons slot=\"start\" onClick={popupCancel}>\n            <div className=\"arrow-left-container-start\">\n              <IconArrowLeft color=\"#969696\" />\n            </div>\n          </IonButtons>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent>\n        <div className=\"list-captures\">\n          <p className=\"progress-recorder\"> {currentVideoArray.length} de 5 </p>\n          <div className=\"list-recorded-itens\">{renderRecordedItens()}</div>\n        </div>\n\n        <div className=\"new-recorder-area\">\n          <div className=\"area-button-recorder\">\n            <div>\n              <span className=\"tooltiptext\">Grave novos sinais</span>\n            </div>\n            <button\n              onClick={takeVideo}\n              type=\"button\"\n              className=\"signal-capture-button-none\"\n            >\n              <img\n                className=\"button-recorder\"\n                src={\n                  currentVideoArray.length < 5\n                    ? logoCaptureV2\n                    : logoCaptureDisable\n                }\n                alt=\"Logo Gravar\"\n              />\n            </button>\n            <p> Câmera </p>\n          </div>\n          <div className=\"area-button-recorder\">\n            <button\n              onClick={translateVideo}\n              type=\"button\"\n              className=\"signal-capture-button-none\"\n            >\n              <img\n                className=\"button-recorder\"\n                src={logoTranslateVideo}\n                alt=\"Logo gravar\"\n              />\n            </button>\n            <p> Traduzir </p>\n          </div>\n        </div>\n\n        <ErrorModal\n          show={showErrorModal[0]}\n          setShow={setShowErrorModal}\n          errorMsg={showErrorModal[1]}\n        />\n        <LoadingModal\n          loading={loading}\n          setLoading={setLoading}\n          text={loadingDescription}\n        />\n        <IonAlert\n          isOpen={showAlert}\n          cssClass=\"popup-box-signal-cap\"\n          header={Strings.TITLE_POPUPCANCEL}\n          message={Strings.MESSAGE_POPUPCANCEL}\n          buttons={[\n            {\n              text: Strings.BUTTON_NAME_YES,\n              cssClass: 'popup-yes',\n              handler: () => {\n                removeRecord(toDelete);\n                console.log('Confirm Yes');\n                setShowAlert(false);\n              },\n            },\n            {\n              text: Strings.BUTTON_NAME_NO,\n              cssClass: 'popup-no',\n              role: 'cancel',\n              handler: () => {\n                setShowAlert(false);\n                console.log('Confirm No');\n              },\n            },\n          ]}\n        />\n        <IonAlert\n          isOpen={showAlertpage}\n          cssClass=\"popup-box-signal-cap\"\n          header={Strings.TITLE_POPUP_REMOVE}\n          message={Strings.MESSAGE_POPUP_REMOVE}\n          buttons={[\n            {\n              text: Strings.BUTTON_NAME_YES,\n              cssClass: 'popup-yes',\n              handler: () => {\n                console.log('Confirm Yes');\n                dispatch(Creators.setCurrentArrayVideo([]));\n                setShowAlertPage(false);\n                history.goBack();\n              },\n            },\n            {\n              text: Strings.BUTTON_NAME_NO,\n              cssClass: 'popup-no',\n              role: 'cancel',\n              handler: () => {\n                console.log('Confirm No');\n                setShowAlertPage(false);\n              },\n            },\n          ]}\n        />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default SignalCapture;\n"]},"metadata":{},"sourceType":"module"}