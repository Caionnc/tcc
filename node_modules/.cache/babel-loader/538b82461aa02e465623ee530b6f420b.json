{"ast":null,"code":"var _jsxFileName = \"/home/caionnc/Documents/code/tcc-branches/v1.0.2/tcc/src/hooks/Tutorial.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useState, useCallback, useEffect } from 'react';\nimport { NativeStorage } from '@ionic-native/native-storage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let TutorialSteps;\n\n(function (TutorialSteps) {\n  TutorialSteps[TutorialSteps[\"IDLE\"] = 0] = \"IDLE\";\n  TutorialSteps[TutorialSteps[\"INITIAL\"] = 1] = \"INITIAL\";\n  TutorialSteps[TutorialSteps[\"TRANSLATION\"] = 2] = \"TRANSLATION\";\n  TutorialSteps[TutorialSteps[\"DICTIONARY\"] = 3] = \"DICTIONARY\";\n  TutorialSteps[TutorialSteps[\"HISTORY\"] = 4] = \"HISTORY\";\n  TutorialSteps[TutorialSteps[\"CHANGE_AVATAR\"] = 5] = \"CHANGE_AVATAR\";\n  TutorialSteps[TutorialSteps[\"MENU\"] = 6] = \"MENU\";\n  TutorialSteps[TutorialSteps[\"LIKED_TRANSLATION\"] = 7] = \"LIKED_TRANSLATION\";\n  TutorialSteps[TutorialSteps[\"SHARE\"] = 8] = \"SHARE\";\n})(TutorialSteps || (TutorialSteps = {}));\n\nconst TutorialContext = /*#__PURE__*/createContext({});\nexport const TUTORIAL_QUEUE = [TutorialSteps.TRANSLATION, TutorialSteps.DICTIONARY, TutorialSteps.HISTORY, TutorialSteps.CHANGE_AVATAR, TutorialSteps.MENU, TutorialSteps.LIKED_TRANSLATION, TutorialSteps.SHARE];\nconst PROPERTY_KEY_TUTORIAL = 'tutorial';\nconst PROPERTY_KEY_PRESENT_TUTORIAL = 'present-tutorial';\n\nconst TutorialProvider = ({\n  children\n}) => {\n  _s();\n\n  const [currentStep, setCurrentStep] = useState(TutorialSteps.INITIAL);\n  const [presentTutorial, setPresentTutorial] = useState(false);\n  const [currentStepIndex, setCurrentStepIndex] = useState(-1);\n  useEffect(() => {\n    NativeStorage.getItem(PROPERTY_KEY_TUTORIAL).then(value => value ? setCurrentStep(TutorialSteps.IDLE) : setCurrentStep(TutorialSteps.INITIAL)).catch(_ => false);\n    NativeStorage.getItem(PROPERTY_KEY_PRESENT_TUTORIAL).then(value => onSetPresentTutorial(value)).catch(_ => false);\n  }, []);\n  const onCancel = useCallback(() => {\n    NativeStorage.setItem(PROPERTY_KEY_TUTORIAL, true);\n    setCurrentStep(TutorialSteps.IDLE);\n    setCurrentStepIndex(-1);\n  }, []);\n  const goNextStep = useCallback(() => {\n    NativeStorage.setItem(PROPERTY_KEY_TUTORIAL, true);\n    const index = currentStepIndex + 1;\n\n    if (index < TUTORIAL_QUEUE.length) {\n      setCurrentStep(TUTORIAL_QUEUE[index]);\n      setCurrentStepIndex(index);\n    } else {\n      onCancel();\n    }\n  }, [currentStepIndex, onCancel]);\n  const onSetPresentTutorial = useCallback(value => {\n    if (value) {\n      setCurrentStep(TutorialSteps.INITIAL);\n      setCurrentStepIndex(-1);\n    }\n\n    setPresentTutorial(value);\n    NativeStorage.setItem(PROPERTY_KEY_PRESENT_TUTORIAL, value);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(TutorialContext.Provider, {\n    value: {\n      currentStep,\n      goNextStep,\n      currentStepIndex,\n      onCancel,\n      presentTutorial,\n      setPresentTutorial: onSetPresentTutorial\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TutorialProvider, \"4t9FjQrPJPyNSK6pAv5LpvtybYA=\");\n\n_c = TutorialProvider;\n\nfunction useTutorial() {\n  _s2();\n\n  const context = useContext(TutorialContext);\n\n  if (!context) {\n    throw new Error('');\n  }\n\n  return context;\n}\n\n_s2(useTutorial, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n\nexport { TutorialContext, TutorialProvider, useTutorial };\n\nvar _c;\n\n$RefreshReg$(_c, \"TutorialProvider\");","map":{"version":3,"sources":["/home/caionnc/Documents/code/tcc-branches/v1.0.2/tcc/src/hooks/Tutorial.tsx"],"names":["React","createContext","useContext","useState","useCallback","useEffect","NativeStorage","TutorialSteps","TutorialContext","TUTORIAL_QUEUE","TRANSLATION","DICTIONARY","HISTORY","CHANGE_AVATAR","MENU","LIKED_TRANSLATION","SHARE","PROPERTY_KEY_TUTORIAL","PROPERTY_KEY_PRESENT_TUTORIAL","TutorialProvider","children","currentStep","setCurrentStep","INITIAL","presentTutorial","setPresentTutorial","currentStepIndex","setCurrentStepIndex","getItem","then","value","IDLE","catch","_","onSetPresentTutorial","onCancel","setItem","goNextStep","index","length","useTutorial","context","Error"],"mappings":"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","sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useEffect,\n} from 'react';\n\nimport { NativeStorage } from '@ionic-native/native-storage';\n\nexport enum TutorialSteps {\n  IDLE,\n  INITIAL,\n  TRANSLATION,\n  DICTIONARY,\n  HISTORY,\n  CHANGE_AVATAR,\n  MENU,\n  LIKED_TRANSLATION,\n  SHARE,\n}\n\ninterface TutorialContextData {\n  currentStep: TutorialSteps;\n  goNextStep: () => void;\n  onCancel: () => void;\n  currentStepIndex: number;\n  presentTutorial: boolean;\n  setPresentTutorial: (presentTutorial: boolean) => void;\n}\n\nconst TutorialContext = createContext<TutorialContextData>(\n  {} as TutorialContextData,\n);\n\nexport const TUTORIAL_QUEUE = [\n  TutorialSteps.TRANSLATION,\n  TutorialSteps.DICTIONARY,\n  TutorialSteps.HISTORY,\n  TutorialSteps.CHANGE_AVATAR,\n  TutorialSteps.MENU,\n  TutorialSteps.LIKED_TRANSLATION,\n  TutorialSteps.SHARE,\n];\n\nconst PROPERTY_KEY_TUTORIAL = 'tutorial';\nconst PROPERTY_KEY_PRESENT_TUTORIAL = 'present-tutorial';\n\nconst TutorialProvider: React.FC = ({ children }) => {\n  const [currentStep, setCurrentStep] = useState<TutorialSteps>(\n    TutorialSteps.INITIAL,\n  );\n  const [presentTutorial, setPresentTutorial] = useState(false);\n  const [currentStepIndex, setCurrentStepIndex] = useState(-1);\n\n  useEffect(() => {\n    NativeStorage.getItem(PROPERTY_KEY_TUTORIAL)\n      .then(value =>\n        value\n          ? setCurrentStep(TutorialSteps.IDLE)\n          : setCurrentStep(TutorialSteps.INITIAL),\n      )\n      .catch(_ => false);\n\n      NativeStorage.getItem(PROPERTY_KEY_PRESENT_TUTORIAL)\n      .then(value => onSetPresentTutorial(value))\n      .catch(_ => false);\n  }, []);\n\n  const onCancel = useCallback(() => {\n    NativeStorage.setItem(PROPERTY_KEY_TUTORIAL, true);\n    setCurrentStep(TutorialSteps.IDLE);\n    setCurrentStepIndex(-1);\n  }, []);\n\n  const goNextStep = useCallback(() => {\n    NativeStorage.setItem(PROPERTY_KEY_TUTORIAL, true);\n\n    const index = currentStepIndex + 1;\n    if (index < TUTORIAL_QUEUE.length) {\n      setCurrentStep(TUTORIAL_QUEUE[index]);\n      setCurrentStepIndex(index);\n    } else {\n      onCancel();\n    }\n  }, [currentStepIndex, onCancel]);\n\n  const onSetPresentTutorial = useCallback((value: boolean) => {\n    if (value) {\n      setCurrentStep(TutorialSteps.INITIAL)\n      setCurrentStepIndex(-1);\n    }\n    setPresentTutorial(value);\n    NativeStorage.setItem(PROPERTY_KEY_PRESENT_TUTORIAL, value);\n  }, []);\n\n  return (\n    <TutorialContext.Provider\n      value={{\n        currentStep,\n        goNextStep,\n        currentStepIndex,\n        onCancel,\n        presentTutorial,\n        setPresentTutorial: onSetPresentTutorial,\n      }}\n    >\n      {children}\n    </TutorialContext.Provider>\n  );\n};\n\nfunction useTutorial(): TutorialContextData {\n  const context = useContext(TutorialContext);\n\n  if (!context) {\n    throw new Error('');\n  }\n  return context;\n}\n\nexport { TutorialContext, TutorialProvider, useTutorial };\n"]},"metadata":{},"sourceType":"module"}